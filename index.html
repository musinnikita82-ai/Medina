<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üíñ Love Tests - –ú–µ–¥–∏–Ω–∞ & –ù–∏–∫–∏—Ç–∞ üíñ</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&family=Poppins:wght@300;400;500;600&display=swap');

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #ffafbd, #ffc3a0);
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 20px;
  position: relative;
  overflow-x: hidden;
}

body::before {
  content: 'üíñ';
  position: fixed;
  font-size: 40px;
  opacity: 0.1;
  z-index: -1;
  animation: float 20s infinite linear;
}

@keyframes float {
  0% { transform: translate(0, 0) rotate(0deg); }
  100% { transform: translate(100vw, 100vh) rotate(360deg); }
}

.card {
  background: rgba(255, 255, 255, 0.95);
  width: 100%;
  max-width: 500px;
  padding: 30px;
  border-radius: 25px;
  box-shadow: 0 20px 50px rgba(255, 105, 180, 0.3);
  backdrop-filter: blur(10px);
  border: 3px solid #ff85c1;
  position: relative;
  overflow: hidden;
}

.card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.1) 1px, transparent 1px);
  background-size: 30px 30px;
  animation: sparkle 4s linear infinite;
  z-index: -1;
}

@keyframes sparkle {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.screen {
  display: none;
  animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

.active {
  display: block;
}

h1 {
  font-family: 'Dancing Script', cursive;
  color: #d63384;
  font-size: 32px;
  text-align: center;
  margin-bottom: 25px;
  text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  position: relative;
}

h1::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 100px;
  height: 3px;
  background: linear-gradient(to right, transparent, #ff69b4, transparent);
}

p {
  color: #c2185b;
  text-align: center;
  margin-bottom: 20px;
  font-size: 16px;
  line-height: 1.5;
}

button {
  width: 100%;
  padding: 16px;
  margin: 10px 0;
  border: none;
  border-radius: 15px;
  background: linear-gradient(135deg, #ff69b4, #ff85c1);
  color: white;
  font-size: 17px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 5px 15px rgba(255,105,180,0.3);
  position: relative;
  overflow: hidden;
}

button:hover {
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(255,105,180,0.4);
}

button::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: 0.5s;
}

button:hover::after {
  left: 100%;
}

.tests {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin: 30px 0;
}

@media (max-width: 500px) {
  .tests {
    grid-template-columns: 1fr;
  }
}

.test {
  background: linear-gradient(135deg, #fff0f6, #ffe4ec);
  padding: 25px 15px;
  border-radius: 20px;
  font-weight: 600;
  color: #d63384;
  box-shadow: 0 10px 25px rgba(255,105,180,0.2);
  cursor: pointer;
  transition: all 0.3s ease;
  border: 2px solid transparent;
  text-align: center;
  position: relative;
  overflow: hidden;
}

.test:hover {
  transform: translateY(-5px);
  box-shadow: 0 15px 30px rgba(255,105,180,0.3);
  border-color: #ff69b4;
}

.test::before {
  content: '‚ù§Ô∏è';
  position: absolute;
  top: 10px;
  right: 10px;
  opacity: 0.3;
  font-size: 20px;
}

.done {
  background: linear-gradient(135deg, #d1ffd8, #b0ffc1);
  color: #1b7f3a;
  border-color: #1b7f3a;
}

.loader {
  width: 100%;
  height: 12px;
  background: #ffe0eb;
  border-radius: 6px;
  overflow: hidden;
  margin: 30px 0;
  position: relative;
}

.loader div {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, #ff69b4, #ff85c1);
  animation: load 5s linear forwards;
}

@keyframes load {
  to { width: 100%; }
}

.resultBox {
  background: linear-gradient(135deg, #fff0f6, #ffe4ec);
  border-radius: 15px;
  padding: 20px;
  margin: 20px 0;
  color: #d63384;
  font-weight: 500;
  border-left: 5px solid #ff69b4;
}

.image-box {
  background: linear-gradient(135deg, #fff0f6, #ffe4ec);
  border-radius: 15px;
  padding: 20px;
  margin: 20px 0;
  border: 2px dashed #ff69b4;
}

.preview-image {
  max-width: 100%;
  max-height: 200px;
  border-radius: 10px;
  margin: 15px 0;
  border: 3px solid #ff85c1;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.image-title {
  font-weight: bold;
  color: #d63384;
  margin-bottom: 10px;
  font-size: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.check-icon {
  font-size: 40px;
  display: none;
  margin: 20px 0;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

#check { color: #28a745; }
#failCheck { color: #dc3545; }

.timer {
  font-size: 18px;
  color: #d63384;
  margin: 15px 0;
  font-weight: bold;
  text-align: center;
}

.timer-danger {
  color: #dc3545;
  animation: blink 1s infinite;
}

@keyframes blink {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

.disabled-btn {
  opacity: 0.5;
  cursor: not-allowed !important;
  pointer-events: none;
}

.disabled-btn:hover {
  transform: none !important;
  box-shadow: 0 5px 15px rgba(255,105,180,0.3) !important;
}

.hearts {
  position: fixed;
  pointer-events: none;
  z-index: 1000;
}

.heart {
  position: absolute;
  font-size: 20px;
  animation: heartFloat 2s linear forwards;
}

@keyframes heartFloat {
  0% {
    opacity: 1;
    transform: translateY(0) rotate(0deg);
  }
  100% {
    opacity: 0;
    transform: translateY(-100px) rotate(360deg);
  }
}

.love-text {
  font-family: 'Dancing Script', cursive;
  font-size: 24px;
  color: #ff69b4;
  margin: 20px 0;
  text-align: center;
}

.question-counter {
  position: absolute;
  top: 15px;
  right: 15px;
  background: #ff69b4;
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: bold;
}
</style>
</head>
<body>

<div class="hearts" id="hearts"></div>

<div class="card">
  <div class="question-counter" id="questionCounter" style="display: none;">1</div>

  <!-- –ù–ê–ß–ê–õ–û -->
  <div class="screen active" id="s1">
    <h1>üíñ –ü—Ä–∏–≤–µ—Ç, –¥–æ—Ä–æ–≥–∞—è! üíñ</h1>
    <p>–¢—ã –Ω–∞—à–∞ –ú–µ–¥–∏–Ω–∞?</p>
    <button onclick="goToS2()">–î–∞, —ç—Ç–æ —è! üíï</button>
    <button onclick="show('err')">–ù–µ—Ç, —è –Ω–µ –ú–µ–¥–∏–Ω–∞</button>
  </div>

  <div class="screen" id="err">
    <h1>–û–π-–æ–π! üò¢</h1>
    <p>–ü–æ—Ö–æ–∂–µ, —Ç—ã –æ—à–∏–±–ª–∞—Å—å...</p>
    <button onclick="show('s1')">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥</button>
  </div>

  <div class="screen" id="s2">
    <h1>üíû –ú–æ–µ —Å–µ—Ä–¥—Ü–µ –±—å–µ—Ç—Å—è üíû</h1>
    <p>–¢–≤–æ–π –ø–∞—Ä–µ–Ω—å - –ú—É—Å–∏–Ω –ù–∏–∫–∏—Ç–∞?</p>
    <button onclick="startSmileSequence()">–î–∞, –º–æ–π –ù–∏–∫–∏—Ç—É—à–∫–∞ üíñ</button>
    <button onclick="startSmileSequence()">–ö–æ–Ω–µ—á–Ω–æ, —è –ª—é–±–ª—é –µ–≥–æ! üíï</button>
    <button onclick="startSmileSequence()">–ú–æ–π —Å–∞–º—ã–π –ª—É—á—à–∏–π –ù–∏–∫–∏—Ç–∞! üòò</button>
  </div>

  <!-- –£–õ–´–ë–ö–ê + –ó–ê–ì–†–£–ó–ö–ê -->
  <div class="screen" id="smile">
    <h1>üòä –¢–≤–æ—è —É–ª—ã–±–∫–∞ üòä</h1>
    <p id="smileText">–£–ª—ã–±–Ω–∏—Å—å –¥–ª—è –º–µ–Ω—è, –∫—Ä–∞—Å–æ—Ç–∫–∞! üíó</p>
    <div class="loader"><div></div></div>
    <div id="failCheck" class="check-icon">‚ùå</div>
    <div id="check" class="check-icon">‚úÖ</div>
  </div>

  <!-- –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù -->
  <div class="screen" id="main">
    <h1>üíï –ú–æ—è –ª—é–±–∏–º–∞—è –ú–µ–¥–∏–Ω–∞ üíï</h1>
    <p class="love-text">–í—ã–±–µ—Ä–∏ —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—à—å –ø—Ä–æ–π—Ç–∏:</p>
    <div class="tests">
      <div class="test" id="t1" onclick="startTest1()">
        <div>–¢–µ—Å—Ç 1</div>
        <div style="font-size: 14px;">–ú—ã –∑–Ω–∞–µ–º –¥—Ä—É–≥ –¥—Ä—É–≥–∞</div>
      </div>
      <div class="test" id="t2" onclick="startTest(test2,'t2')">
        <div>–¢–µ—Å—Ç 2</div>
        <div style="font-size: 14px;">–•–∞—Ä–∞–∫—Ç–µ—Ä</div>
      </div>
      <div class="test" id="t3" onclick="startTest(test3,'t3')">
        <div>–¢–µ—Å—Ç 3</div>
        <div style="font-size: 14px;">–ë—ã—Ç</div>
      </div>
      <div class="test" id="t4" onclick="startTest(test4,'t4')">
        <div>–¢–µ—Å—Ç 4</div>
        <div style="font-size: 14px;">–ù–æ–≤–∞—è —ç–ø–æ—Ö–∞ üíñ</div>
      </div>
    </div>
    <p id="result1"></p>
  </div>

  <!-- –í–û–ü–†–û–°–´ -->
  <div class="screen" id="q"></div>

  <!-- –†–ï–ó–£–õ–¨–¢–ê–¢ -->
  <div class="screen" id="res">
    <h1>üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–≤–æ–µ–≥–æ —Ç–µ—Å—Ç–∞! üéâ</h1>
    <div class="resultBox" id="resultText"></div>
    <p class="love-text">–°–æ—Ö—Ä–∞–Ω–∏ —ç—Ç–æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –ø–∞–º—è—Ç—å! üì∏</p>
    <button onclick="show('main')">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ—Å—Ç–∞–º üíñ</button>
  </div>

  <!-- –≠–ö–†–ê–ù –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û -->
  <div class="screen" id="fail">
    <h1>üò¢ –£–ø—Å!</h1>
    <p>–≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç, —Å–æ–ª–Ω—ã—à–∫–æ...</p>
    <button onclick="finish1()">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ç–µ—Å—Ç–∞–º</button>
  </div>
</div>

<script>
// ---------- –û–ë–©–ï–ï ----------
function show(id) {
  document.querySelectorAll(".screen").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  
  const counter = document.getElementById('questionCounter');
  if (id === 'q') {
    counter.style.display = 'flex';
  } else {
    counter.style.display = 'none';
  }
}

function goToS2() {
  show('s2');
}

// ---------- –°–ß–ï–¢–ß–ò–ö –í–û–ü–†–û–°–û–í ----------
function updateQuestionCounter(current, total) {
  document.getElementById('questionCounter').textContent = `${current}/${total}`;
}

// ---------- –ê–ù–ò–ú–ê–¶–ò–Ø –°–ï–†–î–ï–ß–ï–ö ----------
function createHeart(x, y) {
  const hearts = document.getElementById('hearts');
  const heart = document.createElement('div');
  heart.className = 'heart';
  heart.innerHTML = 'üíñ';
  heart.style.left = (x - 10) + 'px';
  heart.style.top = (y - 10) + 'px';
  hearts.appendChild(heart);
  
  setTimeout(() => {
    heart.remove();
  }, 2000);
}

// ---------- –£–õ–´–ë–ö–ê –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò ----------
let smileStep = 0;
let smileTimer1, smileTimer2, smileTimer3, smileTimer4;

function startSmileSequence() {
  clearTimeout(smileTimer1);
  clearTimeout(smileTimer2);
  clearTimeout(smileTimer3);
  clearTimeout(smileTimer4);

  show('smile');
  document.getElementById('smileText').innerText = '–£–ª—ã–±–Ω–∏—Å—å –¥–ª—è –º–µ–Ω—è, –∫—Ä–∞—Å–æ—Ç–∫–∞! üíó';
  document.getElementById('failCheck').style.display = 'none';
  document.getElementById('check').style.display = 'none';
  smileStep = 1;

  smileTimer1 = setTimeout(() => {
    if (document.getElementById('smile').classList.contains('active') && smileStep === 1) {
      document.getElementById('failCheck').style.display = 'block';
      document.getElementById('smileText').innerText = '–ù—É —É–ª—ã–±–Ω–∏—Å—å, –∫–æ—Ç–µ–Ω–æ–∫! üê±';
      smileStep = 2;
    }
  }, 5000);

  smileTimer2 = setTimeout(() => {
    if (document.getElementById('smile').classList.contains('active') && smileStep === 2) {
      document.getElementById('failCheck').style.display = 'none';
      document.getElementById('smileText').innerText = '–ï—â–µ –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞! –£–ª—ã–±–Ω–∏—Å—å! üòä';
      smileStep = 3;
    }
  }, 6000);

  smileTimer3 = setTimeout(() => {
    if (document.getElementById('smile').classList.contains('active') && smileStep === 3) {
      document.getElementById('check').style.display = 'block';
      document.getElementById('smileText').innerText = '–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ! –¢–≤–æ—è —É–ª—ã–±–∫–∞ –∑–∞—Å—á–∏—Ç–∞–Ω–∞! üíñ';
      smileStep = 4;
    }
  }, 11000);

  smileTimer4 = setTimeout(() => {
    if (document.getElementById('smile').classList.contains('active') && smileStep === 4) {
      show('main');
    }
  }, 12000);
}

// ---------- –¢–ï–°–¢ 1 ----------
let errors = 0, step1 = 0;
const test1 = [
  {q:"–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–∞—à–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π?", a:["20 –º–∞—Ä—Ç–∞","24 –º–∞—è","26 –º–∞—è"], r:2},
  {q:"–ö–∞–∫–æ–≥–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –≥–æ–¥ –ù–∏–∫–∏—Ç—ã?", a:["–ë—ã–∫","–ó–º–µ—è","–õ–æ—à–∞–¥—å"], r:0},
  {q:"–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è –ù–∏–∫–∏—Ç—ã?", a:["6 –∏—é–Ω—è","5 –∏—é–ª—è","5 –∏—é–Ω—è"], r:1},
  {q:"–ß—Ç–æ –±—ã –≤—ã–±—Ä–∞–ª –ù–∏–∫–∏—Ç–∞?", a:["–®–∞—à–ª—ã–∫","–ü–∏—Ü—Ü—É","–î–æ–Ω–µ—Ä"], r:0},
  {q:"–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –≤ —Å–µ–º—å–µ –ù–∏–∫–∏—Ç—ã?", a:["6","8","7"], r:2},
  {q:"–õ—é–±–∏–º—ã–π —Å–µ–∑–æ–Ω?", a:["–õ–µ—Ç–æ","–ó–∏–º–∞","–û—Å–µ–Ω—å"], r:1},
  {q:"–ò–º—è –ø–∞–ø—ã?", a:["–í–ª–∞–¥–∏–º–∏—Ä","–í—è—á–µ—Å–ª–∞–≤","–î–º–∏—Ç—Ä–∏–π"], r:1},
  {q:"–ë–∞–ª–ª –ø—Ä–æ–±–Ω–∏–∫–∞?", a:["80","81","82"], r:1},
  {
    q:"–ö–∞–∫–æ–µ —Å–æ–±—ã—Ç–∏–µ —Ç—É—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–æ?",
    image: { title: "–ø–æ–¥–∞—Ä–æ–∫.jpeg", src: "images/–ø–æ–¥–∞—Ä–æ–∫.jpeg" },
    a:["–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è","–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ 7 –º–∞—è","–ü–æ–¥–∞—Ä–æ–∫ –Ω–∞ 5 –∏—é–Ω—è"],
    r:0
  },
  {
    q:"–û —á–µ–º —ç—Ç–æ –ø–∏—Å—å–º–æ?",
    image: { title: "–ø–∏—Å—å–º–æ –ª—é–±–≤–∏.jpeg", src: "images/–ø–∏—Å—å–º–æ –ª—é–±–≤–∏.jpeg" },
    a:["–ü–∏—Å—å–º–æ –æ–± —Ç–µ–±–µ","–ü–∏—Å—å–º–æ –æ –ø—Ä–∏–∑–Ω–∞–Ω–∏–∏ –≤ –ª—é–±–≤–∏","–ü–∏—Å—å–º–æ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º"],
    r:1
  },
  {
    q:"–ö–∞–∫–æ–µ —ç—Ç–æ –ø–∏—Å—å–º–æ?",
    image: { title: "–ø–∏—Å—å–º–æ –¥—Ä.jpeg", src: "images/–ø–∏—Å—å–º–æ –¥—Ä.jpeg" },
    a:["–ü–∏—Å—å–º–æ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º","–ü–∏—Å—å–º–æ –æ–± –∂–∏–∑–Ω–∏","–ü–∏—Å—å–º–æ –æ–± –ø–æ–ª—É–≥–æ–¥–æ–≤—â–∏–Ω–µ"],
    r:0
  }
];

function startTest1() {
  errors = 0;
  step1 = 0;
  showQ1();
}

function showQ1() {
  let q = test1[step1];
  updateQuestionCounter(step1 + 1, test1.length);
  
  let h = `<h1>${q.q}</h1>`;
  
  if (q.image) {
    h += `<div class="image-box">
      <div class="image-title">üì∏ ${q.image.title}</div>`;
    
    if (q.image.src) {
      h += `<img src="${q.image.src}" class="preview-image" alt="${q.image.title}">`;
    }
    
    h += `</div>`;
  }
  
  q.a.forEach((x, i) => h += `<button onclick="ans1(${i})">${x}</button>`);
  document.getElementById("q").innerHTML = h;
  show("q");
}

function ans1(i) {
  createHeart(event.clientX, event.clientY);
  
  if (i === test1[step1].r) {
    step1++;
    if (step1 < test1.length) {
      showQ1();
    } else {
      finish1();
    }
  } else {
    errors++;
    show("fail");
  }
}

function finish1() {
  document.getElementById("t1").classList.add("done");
  document.getElementById("result1").innerText = "–¢–µ—Å—Ç 1 –ø—Ä–æ–π–¥–µ–Ω üíñ –û—à–∏–±–æ–∫: " + errors;
  show("main");
}

// ---------- –¢–ï–°–¢–´ 2, 3 –∏ 4 ----------
let step = 0, answers = [], currentTest = [], curBtn = "";
let lastQuestionTimer;

function startTest(arr, btn) {
  step = 0;
  answers = [];
  currentTest = arr;
  curBtn = btn;
  showQuestion();
}

function showQuestion() {
  // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä
  if (lastQuestionTimer) {
    clearInterval(lastQuestionTimer);
  }
  
  let q = currentTest[step];
  updateQuestionCounter(step + 1, currentTest.length);
  
  let html = `<h1>${q.q}</h1>`;
  
  // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å —Ç–µ—Å—Ç–∞ 4
  if (curBtn === 't4' && step === 9) {
    html += `<p style="font-size: 20px; margin: 20px 0; color: #d63384; font-weight: bold;">${q.specialText || q.q}</p>`;
    html += `<div class="timer" id="lastQuestionTimer">‚è∞ –û—Å—Ç–∞–ª–æ—Å—å: <span id="timerCount">10</span> —Å–µ–∫—É–Ω–¥</div>`;
  }
  
  q.a.forEach((x, i) => {
    // –î–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ —Ç–µ—Å—Ç–∞ 4 –¥–µ–ª–∞–µ–º –∫–Ω–æ–ø–∫—É "–î–ê üíñ" –Ω–µ—Ä–∞–±–æ—á–µ–π
    if (curBtn === 't4' && step === 9 && i === 0) {
      html += `<button class="disabled-btn" id="disabledYesBtn">${x}</button>`;
    } else {
      html += `<button onclick="answer(${i})">${x}</button>`;
    }
  });
  
  document.getElementById("q").innerHTML = html;
  show("q");
  
  // –ï—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å —Ç–µ—Å—Ç–∞ 4, –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
  if (curBtn === 't4' && step === 9) {
    startLastQuestionTimer();
  }
}

// –¢–∞–π–º–µ—Ä –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
function startLastQuestionTimer() {
  let timeLeft = 10;
  const timerElement = document.getElementById('timerCount');
  const timerContainer = document.getElementById('lastQuestionTimer');
  
  lastQuestionTimer = setInterval(() => {
    timeLeft--;
    timerElement.textContent = timeLeft;
    
    // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –ø—Ä–∏ –º–∞–ª–æ–º –≤—Ä–µ–º–µ–Ω–∏
    if (timeLeft <= 3) {
      timerContainer.classList.add('timer-danger');
    }
    
    if (timeLeft <= 0) {
      clearInterval(lastQuestionTimer);
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ–º "–Ω–µ—Ç" (–∏–Ω–¥–µ–∫—Å 1) –∏ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
      autoAnswerNo();
    }
  }, 1000);
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–≤–µ—Ç "–Ω–µ—Ç" –∏ –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
function autoAnswerNo() {
  answers.push(2); // "–Ω–µ—Ç" = 2 (–∏–Ω–¥–µ–∫—Å 1 + 1)
  step++;
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  let text = "";
  answers.forEach((a, i) => {
    if (curBtn === 't4' && i === 9) {
      text += `10 ‚Äì –¢—ã –ª—é–±–∏—à—å –ù–∏–∫–∏—Ç—É? - –Ω–µ—Ç üò¢ (–≤—Ä–µ–º—è –≤—ã—à–ª–æ)<br>`;
    } else {
      text += `${i + 1} ‚Äì ${a}<br>`;
    }
  });
  
  document.getElementById("resultText").innerHTML = text;
  document.getElementById(curBtn).classList.add("done");
  show("res");
}

function answer(choice) {
  createHeart(event.clientX, event.clientY);
  answers.push(choice + 1);
  
  step++;
  if (step < currentTest.length) {
    showQuestion();
  } else {
    finish();
  }
}

function finish() {
  let text = "";
  answers.forEach((a, i) => {
    // –î–ª—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ —Ç–µ—Å—Ç–∞ 4 –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞
    if (curBtn === 't4' && i === 9) {
      if (a === 1) {
        text += `10 ‚Äì –¢—ã –ª—é–±–∏—à—å –ù–∏–∫–∏—Ç—É? - –î–ê! üíñüíñüíñ<br>`;
      } else {
        text += `10 ‚Äì –¢—ã –ª—é–±–∏—à—å –ù–∏–∫–∏—Ç—É? - –Ω–µ—Ç üò¢<br>`;
      }
    } else {
      text += `${i + 1} ‚Äì ${a}<br>`;
    }
  });
  
  document.getElementById("resultText").innerHTML = text;
  document.getElementById(curBtn).classList.add("done");
  show("res");
}

// ---------- –î–ê–ù–ù–´–ï –î–õ–Ø –¢–ï–°–¢–û–í ----------
const test2 = [
  {q:"–ì–ª–∞–≤–Ω–∞—è —á–µ—Ä—Ç–∞ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞?", a:["–î–æ–±—Ä—ã–π","–í–µ—Å—ë–ª—ã–π","–ü–æ–Ω–∏–º–∞—é—â–∏–π"]},
  {q:"–†–µ–∞–∫—Ü–∏—è –Ω–∞ —Å—Ç—Ä–µ—Å—Å?", a:["–î—Ä–∞–∫–∞","–ë–µ–≥—Å—Ç–≤–æ","–°—Ç—É–ø–æ—Ä"]},
  {q:"–ë–æ–ª—å—à–µ –≤—Å–µ–≥–æ –±–æ—é—Å—å?", a:["–†–∞–∑–ª—É–∫—É","–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ","–ü–æ—Ç–µ—Ä—é —Å–≤—è–∑–∏"]},
  {q:"–û–ø—Ç–∏–º–∏—Å—Ç –∏–ª–∏ –ø–µ—Å—Å–∏–º–∏—Å—Ç?", a:["–û–ø—Ç–∏–º–∏—Å—Ç","–ü–µ—Å—Å–∏–º–∏—Å—Ç"]},
  {q:"–õ–µ–≥–∫–æ –ª–∏ –º–µ–Ω—è –æ–±–∏–¥–µ—Ç—å?", a:["–î–∞","–ù–µ—Ç"]},
  {q:"–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —Å–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å?", a:["–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ","–°–ø–æ–Ω—Ç–∞–Ω–Ω–æ—Å—Ç—å"]},
  {q:"–õ—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–∞—Ä—Ç–Ω—ë—Ä–∞?", a:["–†–∞–∑—É–º","–≠–º–æ—Ü–∏–∏","–°–¥–µ—Ä–∂–∞–Ω–Ω–æ—Å—Ç—å"]},
  {q:"–•—É–¥—à–∞—è –ø—Ä–∏–≤—ã—á–∫–∞?", a:["–ú–Ω–æ–≥–æ—Å–ª–æ–≤–∏–µ","–í–æ–∑–≤—ã—à–µ–Ω–∏–µ"]},
  {q:"–î–æ–≤–µ—Ä—á–∏–≤—ã–π –∏–ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π?", a:["–î–æ–≤–µ—Ä—á–∏–≤—ã–π","–ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π"]},
  {q:"–õ—É—á—à–∞—è –º–æ—Ç–∏–≤–∞—Ü–∏—è?", a:["–ü–æ—Ö–≤–∞–ª–∞","–í—ã–∑–æ–≤"]}
];

const test3 = [
  {q:"–õ—é–±–∏–º—ã–π —É—Ç—Ä–µ–Ω–Ω–∏–π –Ω–∞–ø–∏—Ç–æ–∫?", a:["–ö–æ—Ñ–µ","–°–æ–∫","–ß–∞–π"]},
  {q:"–î—É—à –∏–ª–∏ –≤–∞–Ω–Ω–∞?", a:["–î—É—à","–í–∞–Ω–Ω–∞"]},
  {q:"–°–æ–≤–µ—Å—Ç—å –∏–ª–∏ —á–µ—Å—Ç–Ω–æ—Å—Ç—å?", a:["–°–æ–≤–µ—Å—Ç—å","–ß–µ—Å—Ç–Ω–æ—Å—Ç—å"]},
  {q:"–ë—ã—Ç–æ–≤–æ–π —Ä–∞–∑–¥—Ä–∞–∂–∏—Ç–µ–ª—å?", a:["–î–µ—Ç–∏","–î–µ–ª–∞","–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏"]},
  {q:"–õ—é–±–∏–º—ã–π –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏?", a:["–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±","–í—Å"]},
  {q:"–ó–∞–≤—Ç—Ä–∞–∫–∞—é –≤—Å–µ–≥–¥–∞?", a:["–î–∞","–ù–µ—Ç"]},
  {q:"–ü–æ—Ä—è–¥–æ–∫ –∏–ª–∏ –±–µ—Å–ø–æ—Ä—è–¥–æ–∫?", a:["–ü–æ—Ä—è–¥–æ–∫","–ë–µ—Å–ø–æ—Ä—è–¥–æ–∫"]},
  {q:"–ü–µ—Ä–µ–¥ —Å–Ω–æ–º?", a:["–ú–æ—é—Å—å","–ï–º","–ü–∏—à—É –ù–∏–∫–∏—Ç–∫–µ"]},
  {q:"–ö–æ—Ñ–µ —Å —Å–∞—Ö–∞—Ä–æ–º?", a:["–î–∞","–ù–µ—Ç","–° –ù–∏–∫–∏—Ç–æ–π"]},
  {q:"–•–æ–ª–æ–¥ –∏–ª–∏ –∂–∞—Ä–∞?", a:["–•–æ–ª–æ–¥","–ù–∏–∫–∏—Ç–∞"]}
];

// –¢–ï–°–¢ 4 - –ù–û–í–ê–Ø –≠–ü–û–•–ê (–í–°–ï 10 –í–û–ü–†–û–°–û–í)
const test4 = [
  {q:"–ü—Ä–∏–≤–µ—Ç –∫—Ä–∞—Å–æ—Ç–∫–∞, –∫–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ?", a:["–ü—Ä–∏–≤–µ—Ç–∏–∫, –ø–æ–π–¥–µ—Ç","–ü—Ä–∏–≤–µ—Ç–∏–∫, –æ—Ç–ª–∏—á–Ω–æ, —Ö–æ—á—É —Ç–µ–±—è —É–±–∏—Ç—å","–ü—Ä–∏–≤–µ—Ç, –Ω–∞—Ö, –Ω–æ—Ä–º–∞–ª—å–Ω–æ"]},
  {q:"–ê—Ä–±—É–∑–∏–ª–∞ –ª–∏ —Ç—ã –º–µ–Ω—è –∫–æ–≥–¥–∞-—Ç–æ?", a:["–ö–æ–Ω–µ—á–Ω–æ","–Ω–µ—Ç","–ñ–¥—É —Å–≤–∞–¥—å–±—ã, –ø–æ—Ç–æ–º –Ω–∞—á–Ω—É"]},
  {q:"–Ø –≤—ã–±–µ—Ä—É...", a:["–ú–∏–ª–ª–∏–æ–Ω–µ—Ä–∞","–ú–∏–ª–ª–∏–∞—Ä–¥–µ—Ä–∞","–î–µ–ø—É—Ç–∞—Ç–∞","–ù–∏–∫–∏—Ç—É"]},
  {q:"–ö–∞–∫ —Ç—ã —Å—á–∏—Ç–∞–µ—à—å, –ª—É—á—à–µ –∫–∏–Ω—É—Ç—å –≤ –ù–∏–∫–∏—Ç—É...", a:["–ù–æ–∂–æ–º","–°–∫–æ–≤–æ—Ä–æ–¥–∫–æ–π","–ö–∞—Ä–∞–Ω–¥–∞—à–µ–º","–í–µ–¥—Ä–æ–º –∫–∏–ø—è—Ç–∫–∞"]},
  {q:"–ï—Å–ª–∏ –±—ã –ù–∏–∫–∏—Ç–∞ —É–ø–∞–ª, —è –±—ã...", a:["–ü–æ—Å–º–µ—è–ª–∞—Å—å","–ø–æ–º–æ–≥—É","–°–∫–∞–∑–∞–ª–∞: –ø–æ–∫–∞ –º–∞–ª—ã—à —Ö–æ–¥–∏—Ç—å –Ω–µ —É–º–µ–µ—Ç"]},
  {q:"–ù–∞–ª–∏–ª–∞ –±—ã —á–∞–π —Å...", a:["–£–∫—Å—É—Å–æ–º","–Ø–¥–æ–º","–≤–æ–¥–æ–π"]},
  {q:"–ï—Å–ª–∏ —è —Ç–µ–±—è –∑–∞—Ö–æ—á—É —â–∏–∫–æ—Ç–∞—Ç—å, —Ç–æ...", a:["–†–∞–∑—Ä–µ—à—É","–ö–æ–Ω–µ—á–Ω–æ, –º–æ–∂–Ω–æ","–ë—É–¥—É –ø—Ä–æ—Ç–∏–≤"]},
  {q:"–ù–∏–∫–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç—Ä–æ–≥–∞—Ç—å –º–æ—é –ø–æ–ø—É?", a:["–î–∞","–Ω–µ—Ç","–ö–æ–Ω–µ—á–Ω–æ","–°–∞–º–∞ —Ö–æ—á—É"]},
  {q:"–ú–µ–¥–∏–Ω–∞ —É–º–Ω–∞—è, –ù–∏–∫–∏—Ç–∞ - –Ω–µ—Ç", a:["–°–æ–≥–ª–∞—Å–Ω–∞","–Ø –∑–Ω–∞–ª–∞","–Ω–µ—Ç –∫–Ω—á","–ë–µ–∑ —Å–æ–º–Ω–µ–Ω–∏—è"]},
  {
    q: "–Ø –ª—é–±–ª—é –ù–∏–∫–∏—Ç—É?",
    specialText: "–¢—ã –ª—é–±–∏—à—å –ù–∏–∫–∏—Ç—É?",
    a: ["–î–ê üíñ", "–Ω–µ—Ç"]
  }
];
</script>
</body>
</html>